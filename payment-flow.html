<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uber Payment Flow Demo - Sarah's Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'uber': ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                    },
                    colors: {
                        uber: {
                            black: '#000000',
                            white: '#FFFFFF',
                            green: '#00B341',
                            gray: {
                                50: '#F6F6F6',
                                100: '#EEEEEE',
                                200: '#E2E2E2',
                                300: '#CCCCCC',
                                400: '#999999',
                                500: '#666666',
                                600: '#545454',
                                700: '#333333',
                                800: '#1D1D1D',
                                900: '#000000'
                            }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-uber-gray-50 font-uber antialiased">
    <!-- Uber Header -->
    <header class="bg-uber-white border-b border-uber-gray-200">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex items-center justify-between h-16">
                <!-- Logo and Brand -->
                <div class="flex items-center">
                    <a href="home.html" class="text-uber-gray-600 hover:text-uber-black font-black text-lg transition-colors">
                        Uber
                    </a>
                </div>

                <!-- Navigation -->
                <nav class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="home.html" class="text-uber-gray-600 hover:text-uber-black px-3 py-2 text-sm font-medium transition-colors">Home</a>
                        <a href="index.html" class="text-uber-gray-600 hover:text-uber-black px-3 py-2 text-sm font-medium transition-colors">Ride Booking</a> Demo</a>
                        <a href="driver-communication.html" class="text-uber-gray-600 hover:text-uber-black px-3 py-2 text-sm font-medium transition-colors">Driver Communication</a>
                        <a href="#" class="text-uber-black hover:text-uber-gray-600 px-3 py-2 text-sm font-medium transition-colors">Payment Flow</a>
                        <a href="#" class="text-uber-gray-600 hover:text-uber-black px-3 py-2 text-sm font-medium transition-colors">Trip Tracking</a>
                    </div>
                </nav>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button type="button" class="bg-uber-white p-2 rounded-md text-uber-gray-600 hover:text-uber-black hover:bg-uber-gray-100 focus:outline-none focus:ring-2 focus:ring-uber-black focus:ring-offset-2">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Page Title Section -->
        <div class="bg-uber-gray-50 border-t border-uber-gray-200">
            <div class="max-w-7xl mx-auto px-6 py-8">
                <h1 class="text-3xl font-bold text-uber-black mb-2">Payment Flow: Sarah's Journey Concludes</h1>
                <p class="text-uber-gray-600 text-lg">Adding payment methods and completing trip payment accessibility comparison</p>
            </div>
        </div>
    </header>

    <!-- Demo Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">
        <!-- Persona Info -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-blue-900 mb-2">Sarah's Journey Concludes</h2>
            <p class="text-blue-800">Sarah's trip to the airport is ending. She needs to add a new credit card for future trips and complete payment for her current ride, including reviewing the receipt.</p>
        </div>

        <!-- Side-by-side comparison -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Inaccessible Version -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <div class="bg-red-600 text-white px-6 py-4">
                    <h2 class="text-xl font-semibold">❌ Inaccessible Version</h2>
                    <p class="text-red-100 text-sm mt-1">6 WCAG violations present</p>
                </div>
                
                <div class="p-6">
                    <!-- Add Payment Method (Violation 1: Form fields without labels) -->
                    <div class="mb-6">
                        <div style="color: #CCCCCC;" class="text-sm mb-3">Add payment method</div>
                        <div class="space-y-3">
                            <input type="text" placeholder="Card number" class="w-full p-3 border rounded-lg text-gray-400" style="color: #CCCCCC; border-color: #EEEEEE;" />
                            <div class="grid grid-cols-2 gap-3">
                                <input type="text" placeholder="MM/YY" class="p-3 border rounded-lg text-gray-400" style="color: #CCCCCC; border-color: #EEEEEE;" />
                                <input type="text" placeholder="CVV" class="p-3 border rounded-lg text-gray-400" style="color: #CCCCCC; border-color: #EEEEEE;" />
                            </div>
                        </div>
                        
                        <!-- CVV Help (Violation 2: Security verification lacking instructions) -->
                        <div class="mt-2">
                            <span style="color: #DDDDDD; font-size: 10px;">?</span>
                        </div>
                        
                        <div class="mt-4">
                            <div class="bg-uber-black text-white py-2 px-4 rounded-lg cursor-pointer inline-block" onclick="alert('Card added')" style="outline: none;">
                                Add Card
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method Selection (Violation 3: No keyboard access) -->
                    <div class="mb-6">
                        <div style="color: #CCCCCC;" class="text-sm mb-3">Select payment method</div>
                        <div class="space-y-2">
                            <div class="border rounded-lg p-3 cursor-pointer hover:bg-gray-50" style="outline: none;">
                                <div class="flex items-center">
                                    <div class="w-4 h-4 border rounded mr-3" style="border-color: #EEEEEE;"></div>
                                    <div>
                                        <div class="font-medium" style="color: #CCCCCC;">•••• 4242</div>
                                        <div class="text-xs" style="color: #DDDDDD;">Visa ending in 4242</div>
                                    </div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-3 cursor-pointer hover:bg-gray-50" style="outline: none;">
                                <div class="flex items-center">
                                    <div class="w-4 h-4 border rounded mr-3" style="border-color: #EEEEEE;"></div>
                                    <div>
                                        <div class="font-medium" style="color: #CCCCCC;">Uber Cash</div>
                                        <div class="text-xs" style="color: #DDDDDD;">$15.50 available</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Trip Completion (Violation 4: Error messages not announced) -->
                    <div class="mb-6">
                        <div style="color: #CCCCCC;" class="text-sm mb-3">Complete payment</div>
                        <div class="border rounded-lg p-4 bg-gray-50">
                            <div class="flex justify-between items-center mb-2">
                                <span style="color: #CCCCCC;">Trip fare</span>
                                <span style="color: #CCCCCC;">$24.50</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span style="color: #CCCCCC;">Tip</span>
                                <span style="color: #CCCCCC;">$4.90</span>
                            </div>
                            <div class="border-t pt-2">
                                <div class="flex justify-between items-center font-semibold">
                                    <span style="color: #CCCCCC;">Total</span>
                                    <span style="color: #CCCCCC;">$29.40</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <div class="bg-uber-green text-white py-3 px-6 rounded-lg cursor-pointer inline-block" style="outline: none;">
                                Complete Payment
                            </div>
                        </div>
                    </div>

                    <!-- Receipt (Violation 5: Receipt not accessible to screen readers) -->
                    <div class="border-t pt-4">
                        <div style="color: #CCCCCC;" class="text-sm mb-3">Receipt</div>
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120' viewBox='0 0 200 120'%3E%3Crect width='200' height='120' fill='%23f0f0f0'/%3E%3Ctext x='10' y='20' font-family='Arial' font-size='12' fill='%23666'%3EReceipt%3C/text%3E%3Ctext x='10' y='40' font-family='Arial' font-size='10' fill='%23999'%3ETrip: $24.50%3C/text%3E%3Ctext x='10' y='55' font-family='Arial' font-size='10' fill='%23999'%3ETip: $4.90%3C/text%3E%3Ctext x='10' y='70' font-family='Arial' font-size='10' fill='%23999'%3ETotal: $29.40%3C/text%3E%3C/svg%3E" class="w-full max-w-xs" />
                    </div>

                    <!-- Violations List -->
                    <div class="mt-6 p-4 bg-red-50 border border-red-200 rounded-lg">
                        <h4 class="font-semibold text-red-800 mb-2">WCAG Violations Present:</h4>
                        <ul class="text-sm text-red-700 space-y-1">
                            <li>1. Payment form fields lack proper labels</li>
                            <li>2. CVV help icon provides no accessible instructions</li>
                            <li>3. Payment method selection not keyboard accessible</li>
                            <li>4. Payment errors not announced to screen readers</li>
                            <li>5. Receipt displayed as image without alt text</li>
                            <li>6. Payment confirmation lacks clear status updates</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Accessible Version -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <div class="bg-green-600 text-white px-6 py-4">
                    <h2 class="text-xl font-semibold">✅ Accessible Version</h2>
                    <p class="text-green-100 text-sm mt-1">All violations fixed for Sarah</p>
                </div>
                
                <div class="p-6">
                    <!-- Add Payment Method (Fixed: Proper form labels) -->
                    <fieldset class="mb-6">
                        <legend class="text-sm font-medium text-gray-700 mb-3">Add payment method</legend>
                        <div class="space-y-3">
                            <div>
                                <label for="card-number" class="block text-sm font-medium text-gray-700 mb-1">Card number</label>
                                <input type="text" 
                                       id="card-number"
                                       placeholder="1234 5678 9012 3456" 
                                       class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-uber-black focus:border-uber-black" />
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label for="expiry" class="block text-sm font-medium text-gray-700 mb-1">Expiry date</label>
                                    <input type="text" 
                                           id="expiry"
                                           placeholder="MM/YY" 
                                           class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-uber-black focus:border-uber-black" />
                                </div>
                                <div>
                                    <label for="cvv" class="block text-sm font-medium text-gray-700 mb-1">CVV</label>
                                    <input type="text" 
                                           id="cvv"
                                           placeholder="123" 
                                           class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-uber-black focus:border-uber-black"
                                           aria-describedby="cvv-help" />
                                </div>
                            </div>
                        </div>
                        
                        <!-- CVV Help (Fixed: Accessible instructions) -->
                        <div id="cvv-help" class="mt-2 text-sm text-gray-600">
                            <button type="button" class="text-blue-600 hover:text-blue-800 underline focus:ring-2 focus:ring-blue-500 rounded" onclick="toggleCvvHelp()">
                                What is CVV?
                            </button>
                            <div id="cvv-explanation" class="hidden mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                                <p class="text-sm text-blue-800">CVV is the 3-digit security code on the back of your card.</p>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <button type="button" class="bg-uber-black hover:bg-gray-800 text-white py-2 px-4 rounded-lg focus:ring-2 focus:ring-uber-black focus:ring-offset-2 transition-colors">
                                Add Card
                            </button>
                        </div>
                    </fieldset>

                    <!-- Payment Method Selection (Fixed: Keyboard accessible radio buttons) -->
                    <fieldset class="mb-6">
                        <legend class="text-sm font-medium text-gray-700 mb-3">Select payment method</legend>
                        <div class="space-y-2">
                            <label class="border border-gray-300 rounded-lg p-3 hover:bg-gray-50 focus-within:ring-2 focus-within:ring-uber-black cursor-pointer block">
                                <input type="radio" name="payment-method" value="card" class="sr-only" />
                                <div class="flex items-center">
                                    <div class="w-4 h-4 border-2 border-gray-400 rounded mr-3"></div>
                                    <div>
                                        <div class="font-medium text-gray-900">•••• 4242</div>
                                        <div class="text-sm text-gray-600">Visa ending in 4242</div>
                                    </div>
                                </div>
                            </label>
                            <label class="border border-gray-300 rounded-lg p-3 hover:bg-gray-50 focus-within:ring-2 focus-within:ring-uber-black cursor-pointer block">
                                <input type="radio" name="payment-method" value="cash" class="sr-only" />
                                <div class="flex items-center">
                                    <div class="w-4 h-4 border-2 border-gray-400 rounded mr-3"></div>
                                    <div>
                                        <div class="font-medium text-gray-900">Uber Cash</div>
                                        <div class="text-sm text-gray-600">$15.50 available</div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </fieldset>

                    <!-- Trip Completion (Fixed: Accessible error announcements) -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-3">Complete payment</h3>
                        <div class="border border-gray-300 rounded-lg p-4 bg-gray-50">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-gray-700">Trip fare</span>
                                <span class="text-gray-900">$24.50</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-gray-700">Tip</span>
                                <span class="text-gray-900">$4.90</span>
                            </div>
                            <div class="border-t border-gray-300 pt-2">
                                <div class="flex justify-between items-center font-semibold">
                                    <span class="text-gray-900">Total</span>
                                    <span class="text-gray-900">$29.40</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Status (Fixed: Screen reader announcements) -->
                        <div id="payment-status" role="status" aria-live="polite" class="mt-2"></div>
                        
                        <div class="mt-4">
                            <button type="button" 
                                    class="bg-uber-green hover:bg-green-600 text-white py-3 px-6 rounded-lg focus:ring-2 focus:ring-uber-green focus:ring-offset-2 transition-colors"
                                    onclick="processPayment()">
                                Complete Payment
                            </button>
                        </div>
                    </div>

                    <!-- Receipt (Fixed: Accessible text-based receipt) -->
                    <div class="border-t border-gray-200 pt-4">
                        <h3 class="text-sm font-medium text-gray-700 mb-3">Receipt</h3>
                        <div class="bg-gray-50 border border-gray-300 rounded-lg p-4">
                            <div class="text-center mb-3">
                                <h4 class="font-semibold text-gray-900">Uber Receipt</h4>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-gray-700">From:</span>
                                    <span class="text-gray-900">123 Office St</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-700">To:</span>
                                    <span class="text-gray-900">Airport Terminal 1</span>
                                </div>
                                <div class="border-t border-gray-300 pt-2 mt-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-700">Trip fare:</span>
                                        <span class="text-gray-900">$24.50</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-700">Tip:</span>
                                        <span class="text-gray-900">$4.90</span>
                                    </div>
                                    <div class="flex justify-between font-semibold">
                                        <span class="text-gray-900">Total:</span>
                                        <span class="text-gray-900">$29.40</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Accessibility Features -->
                    <div class="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                        <h4 class="font-semibold text-green-800 mb-2">Accessibility Features for Sarah:</h4>
                        <ul class="text-sm text-green-700 space-y-1">
                            <li>✓ All form fields properly labeled for screen readers</li>
                            <li>✓ CVV help with accessible instructions</li>
                            <li>✓ Payment methods as keyboard-accessible radio buttons</li>
                            <li>✓ Error messages announced via aria-live regions</li>
                            <li>✓ Receipt as structured, accessible text content</li>
                            <li>✓ Clear payment status updates for screen readers</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen Reader Instructions -->
        <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-blue-900 mb-3">For Screen Reader Testing:</h3>
            <p class="text-blue-800 mb-2">Navigate through both payment interfaces using keyboard only (Tab/Shift+Tab) or with a screen reader to experience the difference.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div>
                    <h4 class="font-medium text-blue-900">Inaccessible Version Issues:</h4>
                    <ul class="text-sm text-blue-700 mt-1 space-y-1">
                        <li>• Form fields lack proper labels</li>
                        <li>• CVV help icon provides no information</li>
                        <li>• Payment methods not keyboard accessible</li>
                        <li>• Error messages not announced</li>
                        <li>• Receipt as image without alt text</li>
                        <li>• No payment status feedback</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-medium text-blue-900">Accessible Version Benefits:</h4>
                    <ul class="text-sm text-blue-700 mt-1 space-y-1">
                        <li>• Clear form labels and fieldsets</li>
                        <li>• Accessible CVV help with toggle</li>
                        <li>• Radio button payment selection</li>
                        <li>• Live error announcements</li>
                        <li>• Structured text-based receipt</li>
                        <li>• Clear payment status updates</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <script>
        // CVV help toggle
        function toggleCvvHelp() {
            const explanation = document.getElementById('cvv-explanation');
            explanation.classList.toggle('hidden');
        }

        // Payment processing
        function processPayment() {
            const statusDiv = document.getElementById('payment-status');
            const button = document.querySelector('[onclick="processPayment()"]');
            
            button.disabled = true;
            button.textContent = 'Processing...';
            statusDiv.textContent = 'Processing payment...';
            
            setTimeout(() => {
                button.disabled = false;
                button.textContent = 'Complete Payment';
                statusDiv.innerHTML = '<div class="text-green-600 font-medium">✓ Payment completed successfully</div>';
            }, 2000);
        }
    </script>
</body>
</html>
